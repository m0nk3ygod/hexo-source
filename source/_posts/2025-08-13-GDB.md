---
title: "ğŸ”’ GDB (Dreamhack)"
date: 2025-08-13
categories: [Dreamhack, Pwnable]
tags: [dreamhack, pwnable, tools, gdb, linux]
password: "tjwjddltoddlf"
abstract: "ì´ ê¸€ì€ ë³´í˜¸ë˜ì–´ìˆìŠµë‹ˆë‹¤."
message: "ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”."
---

<br>

### ë“¤ì–´ê°€ê¸°ì— ì•ì„œ...

í”„ë¡œê·¸ë¨ì„ ê°œë°œ í•  ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì½”ë“œì˜ ë…¼ë¦¬ êµ¬ì¡°ë¥¼ ì‹ ì¤‘í•˜ê²Œ ì„¤ê³„í•˜ê³ , ì½”ë“œë¥¼ ì‘ì„±í•´ ë‚˜ê°€ê²Œëœë‹¤.  
ê·¸ëŸ°ë° ê°œë°œ ì´ˆê¸°ì— ì•„ë¬´ë¦¬ ì‹ ì¤‘í•˜ê²Œ ì„¤ê³„í•´ë„, ì½”ë“œì˜ ê·œëª¨ê°€ ì»¤ì§€ë‹¤ ë³´ë©´ ì‹¤ìˆ˜ê°€ ë°œìƒí•˜ê¸° ë§ˆë ¨ì´ë‹¤...  

ì´ë ‡ê²Œ ì‹¤ìˆ˜ë¡œ ë°œìƒí•œ í”„ë¡œê·¸ë¨ì˜ ê²°í•¨ì„ **ë²„ê·¸(Bug)** ë¼ê³  í•œë‹¤.

ê°œë°œìë“¤ì€ ë†ë‹´ì²˜ëŸ¼ ê°œë°œì— íˆ¬ìí•œ ì‹œê°„ë§Œí¼ ë²„ê·¸ë¥¼ ì¡ëŠ” ë° ì‚¬ìš©í•œë‹¤ê³  ë§í•œë‹¤. (ã…‹)  
ê·¸ ì •ë„ë¡œ ì‘ì„±ëœ ì½”ë“œì—ì„œ ë²„ê·¸ë¥¼ ì—†ì• ëŠ” ê²ƒì€ ì–´ë µë‹¤.

ê·¸ë˜ì„œ ì´ëŸ° ì–´ë ¤ì›€ì„ í•´ì†Œí•˜ê³ ì **ë””ë²„ê±°(Debugger)** ê°€ ê°œë°œë˜ì—ˆë‹¤.

ì´ë²ˆì—ëŠ” ë¦¬ëˆ…ìŠ¤ì˜ ëŒ€í‘œì ì¸ ë””ë²„ê±° ì¤‘ í•˜ë‚˜ì¸ **GDB (GNU Debugger)** ë¥¼ ë‹¤ë¤„ë³´ì. 

<br>

# GDB & GDB plugin Install (í™˜ê²½ ì„¸íŒ…)

ìš°ì„  í•´ë‹¹ ëª…ë ¹ì–´ë¥¼ í†µí•´ GDB ë¥¼ ì„¤ì¹˜í•´ì£¼ì.

```bash
sudo apt-get install gdb
```

ì´ì œ ë””ë²„ê¹…ì— ë„ì›€ì´ ë˜ëŠ” í”ŒëŸ¬ê·¸ì¸ë“¤ì„ ì„¤ì¹˜í•´ë³´ì.  

ì—¬ëŸ¬ê°€ì§€ í”ŒëŸ¬ê·¸ì¸ì´ ë§ì§€ë§Œ, ë°”ì´ë„ˆë¦¬ ë¶„ì„ ìš©ë„ë¡œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” í”ŒëŸ¬ê·¸ì¸ë“¤ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

- gef : https://github.com/hugsy/gef
- peda : https://github.com/longld/peda
- pwngdb : https://github.com/scwuaptx/Pwngdb
- pwndbg : https://github.com/pwndbg/pwndbg

ì—¬ê¸°ì„œ **pwndbg** ë¥¼ ì„¤ì¹˜í•´ë³´ì.

í•´ë‹¹ ëª…ë ¹ì„ í†µí•´ ì„¤ì¹˜ë¥¼ ë°”ë¡œ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

```bash
git clone https://github.com/pwndbg/pwndbg
cd pwndbg
./setup.sh
```

`git` ì´ ì„¤ì¹˜ ë˜ì§€ ì•Šì•˜ë‹¤ë©´ gitì„ ë¨¼ì € ì„¤ì¹˜í•´ì•¼ í•œë‹¤.

```bash
sudo apt-get install git
```

ì´í›„ ë‹¤ì‹œ pwndbgë¥¼ ì„¤ì¹˜í•´ì£¼ì.

GDB ì„¤ì¹˜ë¥¼ ë§ˆì³¤ë‹¤ë©´ `gdb`ë¥¼ ì…ë ¥í•´ GDBë¥¼ ì‹¤í–‰ì‹œì¼œë³¸ë‹¤.  
`pwndbg>` ë¼ê³  ë‚˜ì˜¤ë©´ ì„¤ì¹˜ì— ì„±ê³µí•œ ê²ƒì´ë‹¤!!

```bash
monkey@Fire-Monkey:/mnt/d/picoCTF/binary ex/PIE Time$ gdb
GNU gdb (Ubuntu 15.0.50.20240403-0ubuntu1) 15.0.50.20240403-git
Copyright (C) 2024 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type "show copying" and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<https://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
    <http://www.gnu.org/software/gdb/documentation/>.

For help, type "help".
Type "apropos word" to search for commands related to "word".
pwndbg: loaded 188 pwndbg commands and 46 shell commands. Type pwndbg [--shell | --all] [filter] for a list.
pwndbg: created $rebase, $base, $hex2ptr, $argv, $envp, $argc, $environ, $bn_sym, $bn_var, $bn_eval, $ida GDB functions (can be used with print/break)
------- tip of the day (disable with set show-tips off) -------
Use track-got enable|info|query to track GOT accesses - useful for hijacking control flow via writable GOT/PLT
pwndbg>
```

<br>

# ì‹¤ìŠµ í•´ë³´ê¸° (ì˜ˆì œ)

í•´ë‹¹ ì†ŒìŠ¤ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ì£¼ì„ì— ë§ê²Œ ì„¤ì •í•´ì¤€ë‹¤.

(ë˜ëŠ” [ì—¬ê¸°](https://dreamhack-lecture.s3.amazonaws.com/uploads/reversing/debugee)ë¥¼ í´ë¦­í•´ì„œ ì†ŒìŠ¤ íŒŒì¼ì„ ë‹¤ìš´ ë°›ì•„ì£¼ì.)

ê°™ì€ ì½”ë“œë¥¼ ì»´íŒŒì¼ í•´ë„ ë‹¤ë¥¸ ë°”ì´ë„ˆë¦¬ê°€ ë‚˜ì˜¬ ìˆ˜ ìˆë‹¤.  
(gcc ë²„ì „ì´ ë‹¤ì–‘í•˜ê¸° ë•Œë¬¸ì— í™˜ê²½ì— ë”°ë¼ ì»´íŒŒì¼ëœ ë°”ì´ë„ˆë¦¬ì˜ ì–´ì…ˆë¸”ë¦¬ ì–¸ì–´ë‚˜ ì£¼ì†Œê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŒ)

```c
// gcc -o debugee debugee.c -no-pie
#include <stdio.h>
int add(int a, int b) {
    return a + b;
}
int main() {
    int a = 2;
    int b= 3;
    printf("%d + %d = %d\n", a, b, add(a, b));
    return 0;
}
```

<br>

# GDB ê¸°ì´ˆ ì‚¬ìš© ë°©ë²•

<br>

## íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸° 

### `file`

`gdb` ëª…ë ¹ì„ ì…ë ¥í•˜ì—¬ GDB ë¥¼ ì‹¤í–‰í•˜ê³  ë‚˜ì„œ ê°€ì¥ ë¨¼ì € í•´ì•¼ í•  ì¼ì€  
<U>ë°”ì´ë„ˆë¦¬ë¥¼ GDBì— ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒ</U>ì´ë‹¤.

GDBë¥¼ ì‹¤í–‰í•´ì„œ ë‚˜ì˜¨ í”„ë¡¬í”„íŠ¸ì— `file [binary]`ë¥¼ ì…ë ¥í•´ ë°”ì´ë„ˆë¦¬ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.  

(`gdb ./debugee` ì™€ ê°™ì´ `gdb`ë¥¼ ì‹¤í–‰í•  ë•Œ ì¸ìë¡œ ë°”ì´ë„ˆë¦¬ ê²½ë¡œë¥¼ ë„£ì–´ì¤˜ë„ ë¨.)

```bash
pwndbg> file debugee
Reading symbols from debugee...

This GDB supports auto-downloading debuginfo from the following URLs:
  <https://debuginfod.ubuntu.com>
Debuginfod has been disabled.
To make this setting permanent, add 'set debuginfod enabled off' to .gdbinit.
(No debugging symbols found in debugee)
pwndbg>
```

ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰í–ˆë‹¤ë©´ ìœ„ ë¬¸êµ¬ê°€ ë‚˜ì˜¤ê²Œ ëœë‹¤.

ì´ì œ ì—¬ëŸ¬ ë””ë²„ê¹… ëª…ë ¹ì„ ì´ìš©í•˜ì—¬ ë””ë²„ê¹…ì„ ìˆ˜í–‰í•˜ë©´ ëœë‹¤.

> ì´ë¯¸ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ GDBë¡œ ë””ë²„ê¹…í•˜ë ¤ë©´?
> `gdb -p <PID>` ë¡œ `-p` ì˜µì…˜ê³¼ í”„ë¡œì„¸ìŠ¤ ID ë¥¼ ì´ìš©í•´ì„œ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ë””ë²„ê¹…ì„ í•  ìˆ˜ ìˆë‹¤.

<br>

## ì‹¤í–‰ íë¦„ ì œì–´í•˜ê¸°

### `run`

GDBì—ì„œ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ëª…ë ¹ì€ `run`ì´ë‹¤.

`r`ë§Œ ì…ë ¥í•´ë„ `run`ê³¼ ë™ì¼í•˜ê²Œ ì‹¤í–‰ë˜ê²Œ ëœë‹¤.  
(ì´ëŸ° ë‹¨ì¶•ì–´ê°€ ë§ìœ¼ë‹ˆ ì•Œì•„ë‘ë©´ ì¢‹ë‹¤)

```bash
pwndbg> run <í”„ë¡œê·¸ë¨ ì¸ì>
```

ì¸ìê°€ í•„ìš”ì—†ëŠ” í”„ë¡œê·¸ë¨ì˜ ê²½ìš° `run`ë§Œ ì…ë ¥í•´ë„ ëœë‹¤.

<br>

### `break` & `continue`

`break` ëª…ë ¹ì€ íŠ¹ì • ì£¼ì†Œì— **ì¤‘ë‹¨ì (Breakpoint)** ì„ ì„¤ì •í•˜ëŠ” ê¸°ëŠ¥ì´ê³ , 
`continue` ëª…ë ¹ì€ ì¤‘ë‹¨ëœ í”„ë¡œê·¸ë¨ì„ ê³„ì† ì‹¤í–‰ ì‹œí‚¤ëŠ” ê¸°ëŠ¥ì´ë‹¤.

ê°ê° `b`, `c` ì²˜ëŸ¼ ë‹¨ì¶•ì–´ë¡œë„ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

```bash
pwndbg> b main
Breakpoint 1 at 0x401156
# ë˜ëŠ”
pwndbg> b *0x401156
Breakpoint 1 at 0x401156
```

í•¨ìˆ˜ ì´ë¦„ìœ¼ë¡œ ì¤‘ë‹¨ì ì„ ê±¸ ë•ŒëŠ” ìƒê´€ ì—†ì§€ë§Œ,  
ì£¼ì†Œì— ì§ì ‘ ì¤‘ë‹¨ì ì„ ì„¤ì •í•  ë•ŒëŠ” `*` ë¥¼ ë¶™ì—¬ì•¼í•œë‹¤.

`run`ì„ í†µí•´ ì‹¤í–‰ì‹œì¼œë³´ë©´, 

```bash
pwndbg> run
[ì¤‘ëµ]
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ DISASM / x86-64 / set emulate on ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 â–º 0x401156 <main+8>     sub    rsp, 0x10                    RSP => 0x7fffffffdb60 (0x7fffffffdb70 - 0x10)
   0x40115a <main+12>    mov    dword ptr [rbp - 8], 2       [0x7fffffffdb68] <= 2
   0x401161 <main+19>    mov    dword ptr [rbp - 4], 3       [0x7fffffffdb6c] <= 3
   0x401168 <main+26>    mov    edx, dword ptr [rbp - 4]     EDX, [0x7fffffffdb6c] => 3
   0x40116b <main+29>    mov    eax, dword ptr [rbp - 8]     EAX, [0x7fffffffdb68] => 2
   0x40116e <main+32>    mov    esi, edx                     ESI => 3
   0x401170 <main+34>    mov    edi, eax                     EDI => 2
   0x401172 <main+36>    call   add                         <add>

   0x401177 <main+41>    mov    ecx, eax
   0x401179 <main+43>    mov    edx, dword ptr [rbp - 4]
   0x40117c <main+46>    mov    eax, dword ptr [rbp - 8]
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ì¤‘ëµ]
pwndbg>
```

ë³µì¡í•˜ê³  ë§ì€ ì •ë³´ê°€ ì¶œë ¥ ë í…ë° ê·¸ê±´ ë’¤ì—ì„œ ìì„¸íˆ ì•Œì•„ë³´ì...

ìœ„ ì •ë³´ë“¤ì€ `context` ëª…ë ¹ì„ í†µí•´ì„œë„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ë˜ëŠ” í”„ë¡œê·¸ë¨ì´ ë‹¤ìŒê³¼ ê°™ì´ ì¤‘ë‹¨ì ì— ë„ë‹¬í–ˆì„ ë•Œ ìë™ìœ¼ë¡œ `context` ëª…ë ¹ì´ ì‹¤í–‰ëœë‹¤.

ì¤‘ë‹¨ ì´í›„ í•„ìš”í•œ ì‘ì—…ì„ ëª¨ë‘ ìˆ˜í–‰í–ˆë‹¤ë©´,  
`c` ë˜ëŠ” `continue` ëª…ë ¹ì„ í†µí•´ ë‹¤ì‹œ ì‹¤í–‰ì„ ì´ì–´ë‚˜ê°ˆ ìˆ˜ ìˆë‹¤.

```bash
pwndbg> continue
Continuing.
2 + 3 = 5
[Inferior 1 (process 3775) exited normally]
pwndbg>
```

> ì¤‘ë‹¨ì ì„ ì—¬ëŸ¬ë²ˆ ê±´ë„ˆ ë›°ê³  ì‹¶ë‹¤ë©´?
> `continue <ìˆ«ì>` ë˜ëŠ” `c <ìˆ«ì>` ë¥¼ ì´ìš©í•˜ë©´ ì¤‘ë‹¨ì ì„ ì—¬ëŸ¬ ë²ˆ ê±´ë„ˆë›¸ ìˆ˜ ìˆë‹¤.

<br>

### `entry` & `start`

ë¦¬ëˆ…ìŠ¤ëŠ” ì‹¤í–‰íŒŒì¼ í˜•ì‹ìœ¼ë¡œ [ELF (Executable and Linkable Format)](https://en.wikipedia.org/wiki/Executable)ë¥¼ ê·œì •í•˜ê³  ìˆë‹¤.

ELFëŠ” í¬ê²Œ **í—¤ë”** ì™€ **ì—¬ëŸ¬ ì„¹ì…˜ë“¤** ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.  

í—¤ë”ì—ëŠ” ì‹¤í–‰ì— í•„ìš”í•œ ì—¬ëŸ¬ ì •ë³´ê°€,  
ì„¹ì…˜ë“¤ì—ëŠ” ì»´íŒŒì¼ëœ ê¸°ê³„ì–´ ì½”ë“œ, í”„ë¡œê·¸ë¨ ë¬¸ìì—´ì„ ë¹„ë¡¯í•œ ì—¬ëŸ¬ ë°ì´í„°ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.

ELFì˜ í—¤ë” ì¤‘ì— **ì§„ì…ì (Entry Point, EP)** ë¼ëŠ” í•„ë“œê°€ ìˆëŠ”ë°,  
ìš´ì˜ì²´ì œëŠ” ELfë¥¼ ì‹¤í–‰í•  ë•Œ, ì§‘ì…ì ì˜ ëª…ë ¹ì–´ë¶€í„° í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•œë‹¤.

`readelf` ëª…ë ¹ì–´ë¥¼ í†µí•´ EPë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°, *debugee* ì˜ ì§„ì…ì ì€ `0x401050` ì´ë‹¤.

> `readelf`ëŠ” ELF íŒŒì¼ì„ ë¶„ì„í•˜ê¸° ìœ„í•œ ë„êµ¬ë¡œ, ì§„ì…ì  ì •ë³´ì™€ í•¨ê»˜ ELF íŒŒì¼ì˜ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ë¶„ì„í•˜ì—¬ ì œê³µí•œë‹¤. (-h ëŠ” í—¤ë” ì •ë³´ë¥¼ ë³´ëŠ” ì˜µì…˜)

```bash
monkey@Fire-Monkey:~/Systemhacking/GDBPractice$ readelf -h debugee
ELF Header:
  Magic:   7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00
  Class:                             ELF64
  Data:                              2's complement, little endian
  Version:                           1 (current)
  OS/ABI:                            UNIX - System V
  ABI Version:                       0
  Type:                              EXEC (Executable file)
  Machine:                           Advanced Micro Devices X86-64
  Version:                           0x1
  Entry point address:               0x401050
  Start of program headers:          64 (bytes into file)
  Start of section headers:          13912 (bytes into file)
  Flags:                             0x0
  Size of this header:               64 (bytes)
  Size of program headers:           56 (bytes)
  Number of program headers:         13
  Size of section headers:           64 (bytes)
  Number of section headers:         31
  Section header string table index: 30
```

`entry` ëª…ë ¹ì–´ëŠ” ì§‘ì…ì ë¶€í„° í”„ë¡œê·¸ë¨ì„ ë¶„ì„í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ëª…ë ¹ì´ë‹¤.

`entry` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ ì§„ì…ì (0x401050)ì— ì¤‘ë‹¨ì ì´ ì„¤ì •ë˜ì–´ ì‹¤í–‰ì´ ë˜ê²Œ ëœë‹¤.



```bash
pwndbg> entry

Program stopped.
0x00007ffff7fe4540 in _start () from /lib64/ld-linux-x86-64.so.2
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
LEGEND: STACK | HEAP | CODE | DATA | WX | RODATA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ REGISTERS / show-flags off / show-compact-regs off ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 RAX  0x38
 RBX  0
 RCX  0x7fffffffdca8 â€”â–¸ 0x7fffffffdf69 â—‚â€” 'SHELL=/bin/bash'
 RDX  0x7ffff7fca380 (_dl_fini) â—‚â€” endbr64
 RDI  0x7ffff7ffe2e0 â—‚â€” 0
 RSI  0x7ffff7ffe8b8 â—‚â€” 0
 R8   0x7fffffffdf3a â—‚â€” '/home/monkey/Systemhacking/GDBPractice/debugee'
 R9   0x7ffff7ffb440 (tunable_list) â—‚â€” 'glibc.malloc.mxfast'
 R10  0x7fffffffd890 â—‚â€” 0x800000
 R11  0x203
 R12  0x401050 (_start) â—‚â€” endbr64
 R13  0x7fffffffdc90 â—‚â€” 1
 R14  0
 R15  0
 RBP  0
 RSP  0x7fffffffdc90 â—‚â€” 1
 RIP  0x401050 (_start) â—‚â€” endbr64
[ì¤‘ëµ]
```

ê²°ê³¼ì ìœ¼ë¡œ `rip` ë ˆì§€ìŠ¤í„°ê°€ ì§„ì…ì (0x401050)ë¥¼ ê°€ë¦¬í‚¤ê²Œ ë˜ê³ ,  
ì§„ì…ì ë¶€í„° ì‹¤í–‰í•´ë³¼ ìˆ˜ ìˆê²Œ ëœë‹¤.

ì´ì™€ ë¹„ìŠ·í•œ ëª…ë ¹ìœ¼ë¡œ `start` ëª…ë ¹ì´ ìˆë‹¤.

`start` ëª…ë ¹ì–´ëŠ” EPê°€ ì•„ë‹Œ `main()`ë¶€í„° ë¶„ì„í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ì´ë‹¤.

`start` ëª…ë ¹ë„ `entry` ëª…ë ¹ê³¼ ë™ì‘ ì›ë¦¬ëŠ” ë™ì¼í•˜ë‹¤.

<br>

## ì‹¤í–‰ íë¦„ ì¶”ì í•˜ê¸°

### `ni` (next instruction) & `si` (step into)

ì¤‘ë‹¨ì ì— ë„ë‹¬í–ˆì„ ë•Œ ëª…ë ¹ì–´ë¥¼ í•œ ì¤„ ì”© ìì„¸íˆ ë¶„ì„í•´ì•¼í•˜ëŠ”ë°,  
ì´ë•Œ `ni` ë˜ëŠ” `si` ëª…ë ¹ì–´ë¥¼ ì“°ë©´ ëœë‹¤.

ë‘˜ë‹¤ ì–´ì…ˆë¸”ë¦¬ ëª…ë ¹ì–´ë¥¼ í•œ ì¤„ ì‹¤í–‰í•œë‹¤ëŠ” ê³µí†µì ì´ ìˆë‹¤. 

í•˜ì§€ë§Œ,  
`ni` ëª…ë ¹ì€ í•¨ìˆ˜ ë‚´ë¶€ë¡œ ë“¤ì–´ê°€ì§€ ì•Šê³ ,  
`si` ëª…ë ¹ì€ í•¨ìˆ˜ ë‚´ë¶€ë¡œ ë“¤ì–´ê°„ë‹¤ëŠ” ì°¨ì´ì ì´ ìˆë‹¤.

(ê¶ê¸ˆí•˜ë©´ breakpoint ê±¸ê³  ni, si í–ˆì„ ë•Œ rip ì°¨ì´ë¥¼ ë³´ë©´ ë¨)

### `finish`

`si`(step into)ë¡œ í•¨ìˆ˜ ë‚´ë¶€ì— ë“¤ì–´ê°€ì„œ í•„ìš”í•œ ë¶€ë¶„ì„ ëª¨ë‘ ë¶„ì„í–‡ëŠ”ë°, í•¨ìˆ˜ì˜ ê·œëª¨ê°€ ì»¤ì„œ ì›ë˜ íë¦„ìœ¼ë¡œ ëŒì•„ê°€ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆë‹¤.

ì´ëŸ´ ë•ŒëŠ” `finish` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ì˜ ëê¹Œì§€ í•œ ë²ˆì— ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

<br>

# ë””ë²„ê¹…ì„ ìœ„í•´ ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ë“¤

<br>

## `info` / `i`

<br>

### `info registers` / `i r`

`info` ëª…ë ¹ì–´ëŠ” ëœ» ê·¸ëŒ€ë¡œ <U>ì •ë³´ë¥¼ ë³´ì—¬ì£¼ëŠ” ëª…ë ¹ì–´</U>ì´ë‹¤.

ë‹¤ìŒì€ `main()`ì— ì¤‘ë‹¨ì ì„ ì„¤ì •í•œ ë’¤ ì‹¤í–‰í•œ í›„  
ì¤‘ë‹¨ì ì— ë„ë‹¬í–ˆì„ ë•Œ `info registers` ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•œ ê²°ê³¼ì´ë‹¤.

```bash
pwndbg> i r
rax            0x40114e            4198734
rbx            0x7fffffffdc98      140737488346264
rcx            0x403e00            4210176
rdx            0x7fffffffdca8      140737488346280
rsi            0x7fffffffdc98      140737488346264
rdi            0x1                 1
rbp            0x7fffffffdb70      0x7fffffffdb70
rsp            0x7fffffffdb70      0x7fffffffdb70
r8             0x0                 0
r9             0x7ffff7fca380      140737353917312
r10            0x7fffffffd890      140737488345232
r11            0x203               515
r12            0x1                 1
r13            0x0                 0
r14            0x403e00            4210176
r15            0x7ffff7ffd000      140737354125312
rip            0x401156            0x401156 <main+8>
eflags         0x246               [ PF ZF IF ]
cs             0x33                51
ss             0x2b                43
ds             0x0                 0
es             0x0                 0
fs             0x0                 0
gs             0x0                 0
fs_base        0x7ffff7d9d740      140737351636800
gs_base        0x0                 0
```

`info registers` ëª…ë ¹ì–´ëŠ” ë ˆì§€ìŠ¤í„°ì˜ ê°’ì„ í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©ëœë‹¤.

ì´ëŸ° ìƒí™© ì™¸ì— ë ˆì§€ìŠ¤í„°ì— ë“¤ì–´ ìˆëŠ” ê°’ì„ ë°”ë¡œ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ê²½ìš°,  
`$<ë ˆì§€ìŠ¤í„°ëª…>` í˜•ì‹ìœ¼ë¡œ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ `rdi` ë ˆì§€ìŠ¤í„°ê°€ ê°€ì§€ê³  ìˆëŠ” ê°’ì´ íŠ¹ì • ì½”ë“œì˜ ì£¼ì†Œì´ê³ , í•´ë‹¹ ì£¼ì†Œì— ì¤‘ë‹¨ì ì„ ê±¸ê³  ì‹¶ì„ ë•ŒëŠ” ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì¨ë³¼ ìˆ˜ ìˆë‹¤.

```bash
pwndbg> b $rdi
```

<br>

### `info breakpoints` / `i b`

`info breakpoints` ëª…ë ¹ì–´ëŠ” í”„ë¡œê·¸ë¨ì˜ ì‹¤í–‰ ì—¬ë¶€ì™€ ìƒê´€ ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ì´ë‹¤.

ì´ ëª…ë ¹ì–´ë„ ëœ»ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ `break` ëª…ë ¹ì–´ë¡œ ì„¤ì •í•œ ì¤‘ë‹¨ì ë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ë‹¤ìŒì€ `main()`ê³¼ `printf()`ì— ì¤‘ë‹¨ì ì„ ì„¤ì •í•˜ê³  `info breakpoints`ë¥¼ ìˆ˜í–‰í•œ ê²°ê³¼ì´ë‹¤.

```bash
pwndbg> i b
Num     Type           Disp Enb Address            What
1       breakpoint     keep y   0x0000000000401156 <main+8>
        breakpoint already hit 1 time
2       breakpoint     keep y   0x00007ffff7e00100 in __printf at ./stdio-common/printf.c:28
```

ê²°ê³¼ë¥¼ ë³´ë©´ ê° ì¤‘ë‹¨ì ë§ˆë‹¤ ë²ˆí˜¸ê°€ ë¶€ì—¬ëœ ê²ƒì„ ì•Œ ìˆ˜ ìˆê³ ,  
ì´ ë²ˆí˜¸ë¥¼ ì´ìš©í•˜ì—¬ íŠ¹ì • ì¤‘ë‹¨ì ì„ ë¹„í™œì„±í™” ë° í™œì„±í™” ë˜ëŠ” ì‚­ì œí•  ìˆ˜ ìˆë‹¤.

- `enable <ì¤‘ë‹¨ì  ë²ˆí˜¸>` : í•´ë‹¹ ì¤‘ë‹¨ì  í™œì„±í™”
- `disable <ì¤‘ë‹¨ì  ë²ˆí˜¸>` : í•´ë‹¹ ì¤‘ë‹¨ì  ë¹„í™œì„±í™”
- `delete <ì¤‘ë‹¨ì  ë²ˆí˜¸>` : í•´ë‹¹ ì¤‘ë‹¨ì  ì‚­ì œ (`d` ë‹¨ì¶•ì–´ë¡œ ëŒ€ì²´ ê°€ëŠ¥)

```bash
pwndbg> d 1
```

<br>

## `disassemble` / `disass`

GDBëŠ” ê¸°ê³„ì–´ë¥¼ **ë””ìŠ¤ì–´ì…ˆë¸”(Disassemble)** í•˜ëŠ” ê¸°ëŠ¥ì„ ê¸°ë³¸ì ìœ¼ë¡œ íƒ‘ì¬í•˜ê³  ìˆë‹¤.

ì¶”ê°€ë¡œ, í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì„¤ì¹˜í•œ pwndbgì—ëŠ” ë””ìŠ¤ì–´ì…ˆë¸”ëœ ê²°ê³¼ë¥¼ ê°€ë…ì„± ì¢‹ê²Œ ì¶œë ¥í•´ì£¼ëŠ” ê¸°ëŠ¥ì´ ìˆë‹¤.

`disassemble` (ë˜ëŠ” `disass`)ëŠ” GDBê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë””ìŠ¤ì–´ì…ˆë¸” ëª…ë ¹ì–´ì´ë‹¤.  
í•´ë‹¹ ëª…ë ¹ì— ì¸ìë¡œ í•¨ìˆ˜ ì´ë¦„ì„ ì „ë‹¬í•˜ë©´ <U>í•´ë‹¹ í•¨ìˆ˜ê°€ ë°˜í™˜ë  ë•Œ ê¹Œì§€ ì „ë¶€ ë””ìŠ¤ì–´ì…ˆë¸”</U> í•˜ì—¬ ë³´ì—¬ì¤€ë‹¤.

```bash
pwndbg> disass main
Dump of assembler code for function main:
   0x000000000040114e <+0>:     endbr64
   0x0000000000401152 <+4>:     push   rbp
   0x0000000000401153 <+5>:     mov    rbp,rsp
   0x0000000000401156 <+8>:     sub    rsp,0x10
   0x000000000040115a <+12>:    mov    DWORD PTR [rbp-0x8],0x2
   0x0000000000401161 <+19>:    mov    DWORD PTR [rbp-0x4],0x3
   0x0000000000401168 <+26>:    mov    edx,DWORD PTR [rbp-0x4]
   0x000000000040116b <+29>:    mov    eax,DWORD PTR [rbp-0x8]
   0x000000000040116e <+32>:    mov    esi,edx
   0x0000000000401170 <+34>:    mov    edi,eax
   0x0000000000401172 <+36>:    call   0x401136 <add>
   0x0000000000401177 <+41>:    mov    ecx,eax
   0x0000000000401179 <+43>:    mov    edx,DWORD PTR [rbp-0x4]
   0x000000000040117c <+46>:    mov    eax,DWORD PTR [rbp-0x8]
   0x000000000040117f <+49>:    mov    esi,eax
   0x0000000000401181 <+51>:    lea    rax,[rip+0xe7c]        # 0x402004
   0x0000000000401188 <+58>:    mov    rdi,rax
   0x000000000040118b <+61>:    mov    eax,0x0
   0x0000000000401190 <+66>:    call   0x401040 <printf@plt>
   0x0000000000401195 <+71>:    mov    eax,0x0
   0x000000000040119a <+76>:    leave
   0x000000000040119b <+77>:    ret
End of assembler dump.
```

**pwndbg** ì—ì„œ ì œê³µí•˜ëŠ” ë””ìŠ¤ì–´ì…ˆë¸” ëª…ë ¹ì–´ë¡œëŠ” `u`, `nearpc`, `pdisass` ê°€ ìˆë‹¤.

ë””ìŠ¤ì–´ì…ˆë¸”ëœ ì½”ë“œë¥¼ ê°€ë…ì„± ì¢‹ê²Œ ì¶œë ¥í•´ì¤€ë‹¤.

```bash
pwndbg> u
 â–º 0x401156 <main+8>     sub    rsp, 0x10                    RSP => 0x7fffffffdb70 - 0x10
   0x40115a <main+12>    mov    dword ptr [rbp - 8], 2
   0x401161 <main+19>    mov    dword ptr [rbp - 4], 3
   0x401168 <main+26>    mov    edx, dword ptr [rbp - 4]
   0x40116b <main+29>    mov    eax, dword ptr [rbp - 8]
   0x40116e <main+32>    mov    esi, edx
   0x401170 <main+34>    mov    edi, eax
   0x401172 <main+36>    call   add                         <add>

   0x401177 <main+41>    mov    ecx, eax
   0x401179 <main+43>    mov    edx, dword ptr [rbp - 4]
   0x40117c <main+46>    mov    eax, dword ptr [rbp - 8]
pwndbg> nearpc
 â–º 0x401156 <main+8>     sub    rsp, 0x10                    RSP => 0x7fffffffdb70 - 0x10
   0x40115a <main+12>    mov    dword ptr [rbp - 8], 2
   0x401161 <main+19>    mov    dword ptr [rbp - 4], 3
   0x401168 <main+26>    mov    edx, dword ptr [rbp - 4]
   0x40116b <main+29>    mov    eax, dword ptr [rbp - 8]
   0x40116e <main+32>    mov    esi, edx
   0x401170 <main+34>    mov    edi, eax
   0x401172 <main+36>    call   add                         <add>

   0x401177 <main+41>    mov    ecx, eax
   0x401179 <main+43>    mov    edx, dword ptr [rbp - 4]
   0x40117c <main+46>    mov    eax, dword ptr [rbp - 8]
```

(ê·¼ë° ì‹¤í–‰ì¤‘ì—ë§Œ ì‘ë™í•˜ëŠ” ë“¯?)

<br>

## `x` (eXamine)

í”„ë¡œê·¸ë¨ì„ ë¶„ì„í•˜ë‹¤ ë³´ë©´ ê°€ìƒ ë©”ëª¨ë¦¬ì— ì¡´ì¬í•˜ëŠ” ì„ì˜ì£¼ì†Œì˜ ê°’ì„ ê´€ì°°í•´ì•¼ í•  ë•Œê°€ ìˆë‹¤.

ì´ë•Œ ì‚¬ìš©í•˜ëŠ”ê²Œ `x` ëª…ë ¹ì–´ì´ë‹¤.

`x`ë¥¼ ì´ìš©í•˜ë©´  
<U>íŠ¹ì • ì£¼ì†Œ</U>ì—ì„œ <U>ì›í•˜ëŠ” ê¸¸ì´ë§Œí¼</U>ì˜ ë°ì´í„°ë¥¼ <U>ì›í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ì¸ì½”ë”©</U>í•˜ì—¬ ë³¼ ìˆ˜ ìˆë‹¤.

| í¬ë©§ | í¬ê¸° |
|------|------|
| `x` : 16ì§„ìˆ˜ | `b` : byte, 1 byte |
| `o` : 8ì§„ìˆ˜ | `h` : halfword, 2 byte |
| `d` : 10ì§„ìˆ˜ | `w` : word, 4 byte |
| `u` : ë¶€í˜¸ ì—†ëŠ” 10ì§„ìˆ˜ | `g` : giant, 8 byte |
| `t` : 2ì§„ìˆ˜ | |
| `f` : floatí˜• | |
| `a` : ì£¼ì†Œ | |
| `i` : ëª…ë ¹ì–´ | |
| `c` : ë¬¸ì | |
| `s` : ë¬¸ìì—´ | |

ìœ„ í‘œë¥¼ ì°¸ê³ í•´ì„œ ì›í•˜ëŠ” í¬ë§·ê³¼ í¬ê¸°ë¥¼ ì¡°í•©í•´  
`x/<í¬ë©§ ë° í¬ê¸°>` í˜•íƒœì˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ê°’ ì—¬ëŸ¬ê°œë¥¼ í•œ ë²ˆì— ë³´ê¸°ë¥¼ ì›í•˜ë©´  
`x/<ê°œìˆ˜><í¬ë©§ ë° í¬ê¸°>` í˜•íƒœì˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

ì˜ˆì‹œë¡œ í™•ì¸í•´ë³´ì.

1. `rsp` ë¶€í„° 80ë°”ì´íŠ¸ë¥¼ 8ë°”ì´íŠ¸ì”© Hex í˜•ì‹ìœ¼ë¡œ 10ê°œ ì¶œë ¥
```bash
pwndbg> x/10gx $rsp
0x7fffffffdb70: 0x00007fffffffdc10      0x00007ffff7dca1ca
0x7fffffffdb80: 0x00007fffffffdbc0      0x00007fffffffdc98
0x7fffffffdb90: 0x0000000100400040      0x000000000040114e
0x7fffffffdba0: 0x00007fffffffdc98      0xbc3bc7597450a484
0x7fffffffdbb0: 0x0000000000000001      0x0000000000000000
```

2. `rip` ë¶€í„° 5ì¤„ì˜ ì–´ì…ˆë¸”ë¦¬ ëª…ë ¹ì–´ ì¶œë ¥
```bash
pwndbg> x/5i $rip
=> 0x401156 <main+8>:   sub    rsp,0x10
   0x40115a <main+12>:  mov    DWORD PTR [rbp-0x8],0x2
   0x401161 <main+19>:  mov    DWORD PTR [rbp-0x4],0x3
   0x401168 <main+26>:  mov    edx,DWORD PTR [rbp-0x4]
   0x40116b <main+29>:  mov    eax,DWORD PTR [rbp-0x8]
```

3. íŠ¹ì • ì£¼ì†Œì˜ ë¬¸ìì—´ ì¶œë ¥
```bash
pwndbg> x/s 0x400000
0x400000:       "\177ELF\002\001\001" 
```

<br>

> [ì°¸ê³ ]  
> ê°€ìƒ ë©”ëª¨ë¦¬ëŠ” í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ê¸° ì „ì—ëŠ” í• ë‹¹ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ   
> `x` ëª…ë ¹ì–´ëŠ” í”„ë¡œê·¸ë¨ ì‹¤í–‰ ë„ì¤‘ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

<br>

## `telescope`

`telescope`ëŠ” pwndbgê°€ ì œê³µí•˜ëŠ” ê°•ë ¥í•œ ë©”ëª¨ë¦¬ ë¤í”„ ê¸°ëŠ¥ì´ë‹¤.

íŠ¹ì • ì£¼ì†Œì˜ ë©”ëª¨ë¦¬ ê°’ë“¤ì„ ë³´ì—¬ì£¼ëŠ” ê²ƒì—ì„œ ê·¸ì¹˜ì§€ ì•Šê³ ,  
ë©”ëª¨ë¦¬ê°€ ì°¸ì¡°í•˜ê³  ìˆëŠ” ì£¼ì†Œë¥¼ ì¬ê·€ì ìœ¼ë¡œ íƒìƒ‰í•˜ì—¬ ê°’ì„ ë³´ì—¬ì¤€ë‹¤.

> [ ì¶”ê°€ ì„¤ëª… ]  
> ì§€ì •í•œ ì£¼ì†Œë¶€í„° ì¼ì • ê¸¸ì´ë§Œí¼ ë©”ëª¨ë¦¬ë¥¼ ì—°ì†ì ìœ¼ë¡œ ì¶œë ¥í•˜ë©´ì„œ, ê° ê°’ì´ í¬ì¸í„°ë¼ë©´ ê·¸ í¬ì¸í„°ê°€ ê°€ë¦¬í‚¤ëŠ” ë°ì´í„°ê¹Œì§€ í•´ì„í•´ì„œ ë³´ì—¬ì¤€ë‹¤.

```bash
pwndbg> tele $rsp
00:0000â”‚ rbp rsp 0x7fffffffdb70 â€”â–¸ 0x7fffffffdc10 â€”â–¸ 0x7fffffffdc70 â—‚â€” 0
01:0008â”‚+008     0x7fffffffdb78 â€”â–¸ 0x7ffff7dca1ca (__libc_start_call_main+122) â—‚â€” mov edi, eax
02:0010â”‚+010     0x7fffffffdb80 â€”â–¸ 0x7fffffffdbc0 â€”â–¸ 0x403e00 (__do_global_dtors_aux_fini_array_entry) â€”â–¸ 0x401100 (__do_global_dtors_aux) â—‚â€” endbr64
03:0018â”‚+018     0x7fffffffdb88 â€”â–¸ 0x7fffffffdc98 â€”â–¸ 0x7fffffffdf3a â—‚â€” '/home/monkey/Systemhacking/GDBPractice/debugee'
04:0020â”‚+020     0x7fffffffdb90 â—‚â€” 0x100400040 /* '@' */
05:0028â”‚+028     0x7fffffffdb98 â€”â–¸ 0x40114e (main) â—‚â€” endbr64
06:0030â”‚+030     0x7fffffffdba0 â€”â–¸ 0x7fffffffdc98 â€”â–¸ 0x7fffffffdf3a â—‚â€” '/home/monkey/Systemhacking/GDBPractice/debugee'
07:0038â”‚+038     0x7fffffffdba8 â—‚â€” 0xbc3bc7597450a484
```

(í•¨ìˆ˜ í˜¸ì¶œ ì§í›„, ìŠ¤íƒì— ì–´ë–¤ ê°’ì´ ìŒ“ì˜€ëŠ”ì§€ í•œëˆˆì— í™•ì¸ ê°€ëŠ¥)

<br>

## `vmmap`

`vmmap`ì€ ê°€ìƒ ë©”ëª¨ë¦¬ì˜ ë ˆì´ì•„ì›ƒì„ ë³´ì—¬ì¤€ë‹¤.

ì–´ë–¤ íŒŒì¼ì´ ë§¤í•‘ ëœ ì˜ì—­ì¼ ê²½ìš°, í•´ë‹¹ íŒŒì¼ì˜ ê²½ë¡œê¹Œì§€ ë³´ì—¬ì¤€ë‹¤.

(ì´ ëª…ë ¹ì–´ëŠ” í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ëœ ìƒíƒœì—ì„œ ì´ìš©í•  ìˆ˜ ìˆë‹¤. ì‹¤í–‰ ì „ê¹Œì§€ëŠ” ê°€ìƒë©”ëª¨ë¦¬ì— ì—†ê¸° ë•Œë¬¸!)

```bash
pwndbg> vmmap
LEGEND: STACK | HEAP | CODE | DATA | WX | RODATA
             Start                End Perm     Size Offset File (set vmmap-prefer-relpaths on)
          0x400000           0x401000 r--p     1000      0 debugee
          0x401000           0x402000 r-xp     1000   1000 debugee
          0x402000           0x403000 r--p     1000   2000 debugee
          0x403000           0x404000 r--p     1000   2000 debugee
          0x404000           0x405000 rw-p     1000   3000 debugee
    0x7ffff7d9d000     0x7ffff7da0000 rw-p     3000      0 [anon_7ffff7d9d]
    0x7ffff7da0000     0x7ffff7dc8000 r--p    28000      0 /usr/lib/x86_64-linux-gnu/libc.so.6
    0x7ffff7dc8000     0x7ffff7f50000 r-xp   188000  28000 /usr/lib/x86_64-linux-gnu/libc.so.6
    0x7ffff7f50000     0x7ffff7f9f000 r--p    4f000 1b0000 /usr/lib/x86_64-linux-gnu/libc.so.6
    0x7ffff7f9f000     0x7ffff7fa3000 r--p     4000 1fe000 /usr/lib/x86_64-linux-gnu/libc.so.6
    0x7ffff7fa3000     0x7ffff7fa5000 rw-p     2000 202000 /usr/lib/x86_64-linux-gnu/libc.so.6
    0x7ffff7fa5000     0x7ffff7fb2000 rw-p     d000      0 [anon_7ffff7fa5]
    0x7ffff7fbd000     0x7ffff7fbf000 rw-p     2000      0 [anon_7ffff7fbd]
    0x7ffff7fbf000     0x7ffff7fc3000 r--p     4000      0 [vvar]
    0x7ffff7fc3000     0x7ffff7fc5000 r-xp     2000      0 [vdso]
    0x7ffff7fc5000     0x7ffff7fc6000 r--p     1000      0 /usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2
    0x7ffff7fc6000     0x7ffff7ff1000 r-xp    2b000   1000 /usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2
    0x7ffff7ff1000     0x7ffff7ffb000 r--p     a000  2c000 /usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2
    0x7ffff7ffb000     0x7ffff7ffd000 r--p     2000  36000 /usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2
    0x7ffff7ffd000     0x7ffff7fff000 rw-p     2000  38000 /usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2
    0x7ffffffdd000     0x7ffffffff000 rw-p    22000      0 [stack]
```

> **íŒŒì¼ ë§¤í•‘ì´ë€?** 
>   
> ì–´ë–¤ íŒŒì¼ì„ ë©”ëª¨ë¦¬ì— ì ì¬í•˜ëŠ” ê²ƒì„ íŒŒì¼ ë§¤í•‘ì´ë¼ê³  í•œë‹¤. ìœ„ ë©”ëª¨ë¦¬ ë ˆì´ì•„ì›ƒì—ì„œ /home/dreamhack/debuggeeì™€ /usr/lib/x86_64-linux-gnu/libc.so.6, /usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2ê°€ ë§¤í•‘ëœ íŒŒì¼ë“¤ì´ë‹¤.  
>  
> ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” ELFë¥¼ ì‹¤í–‰í•  ë•Œ, ë¨¼ì € ELFì˜ ì½”ë“œì™€ ì—¬ëŸ¬ ë°ì´í„°ë¥¼ ê°€ìƒ ë©”ëª¨ë¦¬ì— ë§¤í•‘í•˜ê³ , í•´ë‹¹ ELFì— ë§í¬ëœ ê³µìœ  ì˜¤ë¸Œì íŠ¸(Shared Object, so) ë“¤ì„ ì¶”ê°€ë¡œ ë©”ëª¨ë¦¬ì— ë§¤í•‘í•œ. ê³µìœ  ì˜¤ë¸Œì íŠ¸ëŠ” ìœˆë„ìš°ì˜ DLLê³¼ ëŒ€ì‘ë˜ëŠ” ê°œë…ìœ¼ë¡œ, ìì£¼ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ë“¤ì„ ë¯¸ë¦¬ ì»´íŒŒì¼í•´ë‘” ê²ƒì´ë‹¤. C ì–¸ì–´ì˜ printf(), scanf() ë“±ì´ ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” Libc (Library C)ì— êµ¬í˜„ë˜ì–´ ìˆë‹¤. ê³µìœ  ì˜¤ë¸Œì íŠ¸ì— ì´ë¯¸ êµ¬í˜„ëœ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•ŒëŠ” ë§¤í•‘ëœ ë©”ëª¨ë¦¬ì— ì¡´ì¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ ëŒ€ì‹  í˜¸ì¶œí•œë‹¤.

<br>

## `backtrace` / `bt`

**ì½œ ìŠ¤íƒ(Call Stack)**ì´ë€ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ìˆœì„œë¥¼ ì €ì¥í•˜ëŠ” êµ¬ì¡°ì´ë‹¤.

í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ë©´ì„œ í•˜ë‚˜ì˜ í•¨ìˆ˜ê°€ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ í•¨ìˆ˜ í˜¸ì¶œ ì •ë³´ê°€ ì¶”ê°€ë˜ë©°,  
í•¨ìˆ˜ ì‹¤í–‰ì´ ëë‚˜ë©´ ìµœê·¼ì— í˜¸ì¶œëœ í•¨ìˆ˜ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ì œê±°ëœë‹¤.

ì½œ ìŠ¤íƒì€ ë””ë²„ê¹…í•  ë•Œ ìœ ìš©í•œ ì •ë³´ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. 

ë§Œì•½ ì–´ë–¤ í•¨ìˆ˜ì— ì „ë‹¬ëœ <U>ì¸ì</U>ì— ë¬¸ì œê°€ ë°œìƒí•´ ë²„ê·¸ê°€ ë°œìƒí–ˆë‹¤ë©´,  
ì´ <U>ì¸ì</U>ê°€ ì–´ë–¤ í•¨ìˆ˜ë¡œë¶€í„° ì™”ëŠ”ì§€ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ë©´ì„œ ë²„ê·¸ì˜ ì›ì¸ì„ ì°¾ì•„ì•¼ í•˜ëŠ”ë°,   

ì´ ë•Œ ì½œ ìŠ¤íƒì´ ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.

GDB ì—ì„œëŠ” `backtrace` ë˜ëŠ” `bt` ëª…ë ¹ì–´ë¥¼ ì´ìš©í•´ ì½œ ìŠ¤íƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ë‹¤ìŒì€ `add()`ë¥¼ í˜¸ì¶œí•œ ë’¤ ì½œìŠ¤íƒì„ `bt` ëª…ë ¹ì–´ë¥¼ í†µí•´ í™•ì¸í•˜ëŠ” ì˜ˆì‹œì´ë‹¤.

```bash
pwndbg> b add
Breakpoint 1 at 0x40113e
pwndbg> r
(ì¤‘ëµ)
pwndbg> bt
#0  0x000000000040113e in add ()
#1  0x0000000000401177 in main ()
#2  0x00007ffff7dca1ca in __libc_start_call_main (main=main@entry=0x40114e <main>, argc=argc@entry=1, argv=argv@entry=0x7fffffffdc98) at ../sysdeps/nptl/libc_start_call_main.h:58
#3  0x00007ffff7dca28b in __libc_start_main_impl (main=0x40114e <main>, argc=1, argv=0x7fffffffdc98, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>,
    stack_end=0x7fffffffdc88) at ../csu/libc-start.c:360
#4  0x0000000000401075 in _start ()
pwndbg>
```

<br>

## `dump memory`

í”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ ìƒíƒœë¥¼ íŒŒì¼ë¡œ ì €ì¥í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ì´ë‹¤.

ë‹¤ìŒê³¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```bash
dump memory <íŒŒì¼ëª…> <ì‹œì‘ì£¼ì†Œ> <ëì£¼ì†Œ>
```

ì˜ˆë¥¼ ë“¤ì–´, í”„ë¡œê·¸ë¨ì˜ ì½”ë“œ ì˜ì—­ì„ ë¤í”„ ëœ¨ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ìˆ˜í–‰í•˜ë©´ ëœë‹¤.

```bash
pwndbg> entry
(ì¤‘ëµ)
pwndbg> vmmap
LEGEND: STACK | HEAP | CODE | DATA | WX | RODATA
             Start                End Perm     Size Offset File (set vmmap-prefer-relpaths on)
          0x400000           0x401000 r--p     1000      0 debugee
          0x401000           0x402000 r-xp     1000   1000 debugee
          0x402000           0x403000 r--p     1000   2000 debugee
          0x403000           0x404000 r--p     1000   2000 debugee
          0x404000           0x405000 rw-p     1000   3000 debugee
    0x7ffff7d9d000     0x7ffff7da0000 rw-p     3000      0 [anon_7ffff7d9d]
    0x7ffff7da0000     0x7ffff7dc8000 r--p    28000      0 /usr/lib/x86_64-linux-gnu/libc.so.6
    0x7ffff7dc8000     0x7ffff7f50000 r-xp   188000  28000 /usr/lib/x86_64-linux-gnu/libc.so.6
    0x7ffff7f50000     0x7ffff7f9f000 r--p    4f000 1b0000 /usr/lib/x86_64-linux-gnu/libc.so.6
    0x7ffff7f9f000     0x7ffff7fa3000 r--p     4000 1fe000 /usr/lib/x86_64-linux-gnu/libc.so.6
    0x7ffff7fa3000     0x7ffff7fa5000 rw-p     2000 202000 /usr/lib/x86_64-linux-gnu/libc.so.6
    0x7ffff7fa5000     0x7ffff7fb2000 rw-p     d000      0 [anon_7ffff7fa5]
    0x7ffff7fbd000     0x7ffff7fbf000 rw-p     2000      0 [anon_7ffff7fbd]
    0x7ffff7fbf000     0x7ffff7fc3000 r--p     4000      0 [vvar]
    0x7ffff7fc3000     0x7ffff7fc5000 r-xp     2000      0 [vdso]
    0x7ffff7fc5000     0x7ffff7fc6000 r--p     1000      0 /usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2
    0x7ffff7fc6000     0x7ffff7ff1000 r-xp    2b000   1000 /usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2
    0x7ffff7ff1000     0x7ffff7ffb000 r--p     a000  2c000 /usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2
    0x7ffff7ffb000     0x7ffff7ffd000 r--p     2000  36000 /usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2
    0x7ffff7ffd000     0x7ffff7fff000 rw-p     2000  38000 /usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2
    0x7ffffffdd000     0x7ffffffff000 rw-p    22000      0 [stack]
pwndbg> dump memory code_section 0x401000 0x402000
pwndbg> exit
monkey@Fire-Monkey:~/Systemhacking/GDBPractice$ ls
code_section  debugee  debugee.c
```

`entry` ëª…ë ¹ì–´ë¡œ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•œ ë’¤,  
`vmmap` ëª…ë ¹ì–´ë¡œ í”„ë¡œê·¸ë¨ì˜ ì½”ë“œ ì˜ì—­ì˜ ì‹œì‘ ì£¼ì†Œì™€ ë ì£¼ì†Œë¥¼ ì–»ëŠ”ë‹¤.  
ì´í›„ `dump memory` ëª…ë ¹ìœ¼ë¡œ ë¤í”„ë¥¼ ìˆ˜í–‰í•œë‹¤.

> **ì–´ë””ê°€ ì½”ë“œ ì˜ì—­ì´ì§€...?**  
> ì½”ë“œ ì˜ì—­ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì½ê¸° ê¶Œí•œê³¼ ì‹¤í–‰ ê¶Œí•œì´ ë¶€ì—¬ë˜ì–´ ìˆë‹¤.  
> ê·¸ë˜ì„œ `vmmap`ì˜ ì¶œë ¥ì—ì„œ debugee íŒŒì¼ì´ ë§¤í•‘ëœ ì˜ì—­ ì¤‘ ì½ê¸° ê¶Œí•œê³¼ ì‹¤í–‰ ê¶Œí•œì´ ë¶€ì—¬ëœ ì˜ì—­ì´ debugg ë°”ì´ë„ˆë¦¬ì˜ ì½”ë“œ ì˜ì—­ì´ ëœë‹¤.

<br>

## `context` / `ctx`

pwndbgëŠ” ì£¼ìš” ë©”ëª¨ë¦¬ë“¤ì˜ ìƒíƒœë¥¼ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ê³  ìˆëŠ” **ë§¥ë½(Context)**ë¼ê³  ë¶€ë¥´ë©°,  
ì´ë¥¼ ê°€ë…ì„± ìˆê²Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°–ì¶”ê³  ìˆë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ë‹¤ê°€ ì¤‘ë‹¨ì ì— ë„ë‹¬í•˜ë©´ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ì§€ë§Œ,  
ë³„ë„ë¡œ `context` ë˜ëŠ” `ctx` ëª…ë ¹ì–´ë¥¼ í†µí•´ ì‹¤í–‰í•  ìˆ˜ë„ ìˆë‹¤.

`context`ëŠ” í¬ê²Œ 4ê°œì˜ ì˜ì—­ìœ¼ë¡œ êµ¬ë¶„ëœë‹¤.

1. `REGISTERS` : ë ˆì§€ìŠ¤í„°ì˜ ìƒíƒœë¥¼ ë³´ì—¬ì¤€ë‹¤.
2. `DISASM` : `rip`ë¶€í„° ì—¬ëŸ¬ ì¤„ì— ê±¸ì³ ë””ìŠ¤ì–´ì…ˆë¸”ëœ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤€ë‹¤.
3. `STACK` : `rsp`ë¶€í„° ì—¬ëŸ¬ ì¤„ì— ê±¸ì³ ìŠ¤íƒì˜ ê°’ë“¤ì„ ë³´ì—¬ì¤€ë‹¤.
4. `BACKTRACE` : í˜„ì¬ `rip`ì— ë„ë‹¬í•  ë•Œê¹Œì§€ ì–´ë–¤ í•¨ìˆ˜ë“¤ì´ ì¤‘ì²©ë˜ì–´ í˜¸ì¶œëëŠ”ì§€ ë³´ì—¬ì¤€ë‹¤.

```bash
pwndbg> entry

Program stopped.
0x00007ffff7fe4540 in _start () from /lib64/ld-linux-x86-64.so.2
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
LEGEND: STACK | HEAP | CODE | DATA | WX | RODATA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ REGISTERS / show-flags off / show-compact-regs off ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 RAX  0x38
 RBX  0
 RCX  0x7fffffffdca8 â€”â–¸ 0x7fffffffdf69 â—‚â€” 'SHELL=/bin/bash'
 RDX  0x7ffff7fca380 (_dl_fini) â—‚â€” endbr64
 RDI  0x7ffff7ffe2e0 â—‚â€” 0
 RSI  0x7ffff7ffe8b8 â—‚â€” 0
 R8   0x7fffffffdf3a â—‚â€” '/home/monkey/Systemhacking/GDBPractice/debugee'
 R9   0x7ffff7ffb440 (tunable_list) â—‚â€” 'glibc.malloc.mxfast'
 R10  0x7fffffffd890 â—‚â€” 0x800000
 R11  0x203
 R12  0x401050 (_start) â—‚â€” endbr64
 R13  0x7fffffffdc90 â—‚â€” 1
 R14  0
 R15  0
 RBP  0
 RSP  0x7fffffffdc90 â—‚â€” 1
 RIP  0x401050 (_start) â—‚â€” endbr64
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ DISASM / x86-64 / set emulate on ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 â–º 0x401050 <_start>       endbr64
   0x401054 <_start+4>     xor    ebp, ebp                    EBP => 0
   0x401056 <_start+6>     mov    r9, rdx                     R9 => 0x7ffff7fca380 (_dl_fini) â—‚â€” endbr64
   0x401059 <_start+9>     pop    rsi                         RSI => 1
   0x40105a <_start+10>    mov    rdx, rsp                    RDX => 0x7fffffffdc98 â€”â–¸ 0x7fffffffdf3a â—‚â€” 0x6f6d2f656d6f682f ('/home/mo')
   0x40105d <_start+13>    and    rsp, 0xfffffffffffffff0     RSP => 0x7fffffffdc90 (0x7fffffffdc98 & -0x10)
   0x401061 <_start+17>    push   rax
   0x401062 <_start+18>    push   rsp
   0x401063 <_start+19>    xor    r8d, r8d                    R8D => 0
   0x401066 <_start+22>    xor    ecx, ecx                    ECX => 0
   0x401068 <_start+24>    mov    rdi, main                   RDI => 0x40114e (main) â—‚â€” endbr64
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ STACK ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
00:0000â”‚ r13 rsp 0x7fffffffdc90 â—‚â€” 1
01:0008â”‚         0x7fffffffdc98 â€”â–¸ 0x7fffffffdf3a â—‚â€” '/home/monkey/Systemhacking/GDBPractice/debugee'
02:0010â”‚         0x7fffffffdca0 â—‚â€” 0
03:0018â”‚ rcx     0x7fffffffdca8 â€”â–¸ 0x7fffffffdf69 â—‚â€” 'SHELL=/bin/bash'
04:0020â”‚         0x7fffffffdcb0 â€”â–¸ 0x7fffffffdf79 â—‚â€” 'NVM_RC_VERSION='
05:0028â”‚         0x7fffffffdcb8 â€”â–¸ 0x7fffffffdf89 â—‚â€” 'WSL2_GUI_APPS_ENABLED=1'
06:0030â”‚         0x7fffffffdcc0 â€”â–¸ 0x7fffffffdfa1 â—‚â€” 'WSL_DISTRO_NAME=Ubuntu'
07:0038â”‚         0x7fffffffdcc8 â€”â–¸ 0x7fffffffdfb8 â—‚â€” 'WT_SESSION=6208d62d-226d-4c85-a73b-613637a0e872'
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ BACKTRACE ]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 â–º 0         0x401050 _start
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
pwndbg>
```

ì´ë“¤ì€ ì–´ì…ˆë¸”ë¦¬ë¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ê°±ì‹ ë˜ì–´ ë°©ê¸ˆ ì‹¤í–‰í•œ ì–´ì…ˆë¸”ë¦¬ ëª…ë ¹ì–´ê°€ ë©”ëª¨ë¦¬ì— ì–´ë–¤ ì˜í–¥ì„ ì¤¬ëŠ”ì§€ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆê²Œ ë•ëŠ”ë‹¤.

<br>

## `set`

`set` ëª…ë ¹ì–´ëŠ” <U>í”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´</U>ì´ë‹¤.

ì£¼ë¡œ ë ˆì§€ìŠ¤í„° ê°’ì„ ë³€ê²½í•˜ê±°ë‚˜ íŠ¹ì • ì£¼ì†Œì˜ ë©”ëª¨ë¦¬ ê°’ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

(ì‹¤í–‰ ì¤‘ì¸ ìƒíƒœì—ì„œë§Œ ë™ì‘í•¨!)

```bash
set <ì£¼ì†Œ/ë ˆì§€ìŠ¤í„°> = <ë³€ê²½í•  ê°’>
```

ìœ„ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì˜ˆì‹œë¥¼ í†µí•´ í™•ì¸í•´ë³´ì.

```bash
pwndbg> set $rax = 0
pwndbg> set $rsp = $rbp
```

ì´ë ‡ê²Œ ê°’ì„ ë³€ê²½í•´ì£¼ê³ , `info registers` (ë˜ëŠ” `i r`) ë¥¼ í†µí•´ í™•ì¸í•´ë³´ë©´

```bash
pwndbg> i r
rax            0x38                56
rbx            0x0                 0
rcx            0x7fffffffdca8      140737488346280
rdx            0x7ffff7fca380      140737353917312
rsi            0x7ffff7ffe8b8      140737354131640
rdi            0x7ffff7ffe2e0      140737354130144
rbp            0x0                 0x0
rsp            0x7fffffffdc90      0x7fffffffdc90
```
(ë³€ê²½ì „)

```bash
pwndbg> set $rax = 0
pwndbg> set $rsp = $rbp
pwndbg> i r
rax            0x0                 0
rbx            0x0                 0
rcx            0x7fffffffdca8      140737488346280
rdx            0x7ffff7fca380      140737353917312
rsi            0x7ffff7ffe8b8      140737354131640
rdi            0x7ffff7ffe2e0      140737354130144
rbp            0x0                 0x0
rsp            0x0                 0x0
```
(ë³€ê²½í›„)

íŠ¹ì • ì£¼ì†Œì˜ ê°’ì„ ë°”ê¾¸ê¸° ìœ„í•´ì„œëŠ” ìë£Œí˜•ì´ í•„ìš”í•˜ë‹¤.

GDBëŠ” ìë£Œí˜•ì„ í†µí•´ í•´ë‹¹ ì£¼ì†Œì˜ ë©”ëª¨ë¦¬ ê°’ì„ ì–´ë–»ê²Œ ë°”ê¿€ì§€ ê²°ì •í•˜ê³ ,  
Cì–¸ì–´ ìŠ¤íƒ€ì¼ì˜ ìë£Œí˜•ì„ ì§€ì›í•œë‹¤.

í•´ë‹¹ ì˜ˆì‹œë¥¼ ë³´ì.

```bash
pwndbg> set *(unsigned int*)0x400000 = 10
pwndbg> set *(float*)0x400010 = 3.14
```

ì²« ë²ˆì§¸ëŠ” ë©”ëª¨ë¦¬ ì£¼ì†Œ**0x400000**ì„ `unsigned int *` í˜•ìœ¼ë¡œ ì—­ì°¸ì¡°í•œ í›„,  
ì—¬ê¸°ì— ì •ìˆ˜ 10ì„ ì €ì¥í•œë‹¤.

ë”°ë¼ì„œ 0x400000 ì£¼ì†Œë¶€í„° ì‹œì‘í•˜ì—¬ **4ë°”ì´íŠ¸ì˜ ë©”ëª¨ë¦¬ ê³µê°„**ì— 10ì„ ê¸°ë¡  
(ì˜ˆ, ë¦¬í‹€ ì—”ë””ì•ˆ ì‹œìŠ¤í…œì—ì„œëŠ” `0x0A 00 00 00`)í•˜ê²Œ ëœë‹¤.

ë‘ ë²ˆì§¸ ë©”ëª¨ë¦¬ ì£¼ì†Œ **0x400010**ì„ `float *`í˜•ìœ¼ë¡œ ì—­ì°¸ì¡°í•œ í›„,  
ì—¬ê¸°ì— ë¶€ë™ì†Œìˆ˜ì  ê°’ 3.14ë¥¼ ì €ì¥í•œë‹¤.

ë”°ë¼ì„œ 0x400010 ì£¼ì†Œë¶€í„° ì‹œì‘í•˜ì—¬ **4ë°”ì´íŠ¸ì˜ ë©”ëª¨ë¦¬ ê³µê°„**ì— 3.14ê°€  
IEEE 754 í‘œì¤€ì— ë§ëŠ” ë¶€ë™ì†Œìˆ˜ì  í‘œí˜„ìœ¼ë¡œ ì €ì¥ëœë‹¤.

ì´í›„ `x`(eXamine) ëª…ë ¹ì„ í†µí•´ ë©”ëª¨ë¦¬ ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```bash
pwndbg> x/wu 0x400000
0x400000:       10
pwndbg> x/wf 0x400010
0x400010:       3.1400001
```

~~GDB ë~~